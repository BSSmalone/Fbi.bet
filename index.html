<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Terminal Kurt Angle</title>
<style>
body{
    margin:0;
    height:100vh;
    width:100vw;
    background:url("kurt.jpg") center/cover no-repeat fixed;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:Consolas, monospace;
    overflow:hidden;
}
#terminal{
    width:900px;
    max-width:95%;
    padding:25px;
    font-size:20px;
    color:#ffffff;
    background:rgba(0,0,0,0.75);
    border:2px solid #ffffff;
    box-shadow:0 0 15px #ffffff;
    white-space:pre-line;
}
</style>
</head>
<body>

<audio autoplay loop>
    <source src="kurt-angle.mp3" type="audio/mpeg">
</audio>

<div id="terminal">Autorisez l'accès caméra & micro...</div>

<script>
let out=document.getElementById("terminal");
let queue=[],running=false;

function line(t,speed=10){
    queue.push({t,speed});
    if(!running) run();
}
function run(){
    if(queue.length===0){ running=false; return;}
    running=true;
    let {t,speed}=queue.shift(),i=0;
    let interval=setInterval(()=>{
        out.innerHTML+=t[i++];
        if(i>=t.length){ clearInterval(interval); out.innerHTML+="\n"; run();}
    },speed);
}

// ---------- Fonctions utilitaires ----------
function getOrientation(){
    if(window.innerHeight>window.innerWidth) return "Portrait";
    return "Paysage";
}
function getFullscreen(){
    return document.fullscreenElement ? "Oui" : "Non";
}
function getTime(){
    let d=new Date();
    return d.toLocaleTimeString();
}

// ---------- Détection navigateur & OS ----------
function detectBrowser(){
    let ua = navigator.userAgent;
    if(ua.includes("Chrome")) return "Chrome";
    if(ua.includes("Firefox")) return "Firefox";
    if(ua.includes("Safari") && !ua.includes("Chrome")) return "Safari";
    if(ua.includes("Edg")) return "Edge";
    return "Inconnu";
}
function detectOS(){
    let ua=navigator.userAgent;
    if(ua.includes("Win")) return "Windows";
    if(ua.includes("Mac")) return "MacOS";
    if(ua.includes("Linux")) return "Linux";
    return "Inconnu";
}

// ---------- Demande caméra & micro ----------
async function scanMedia(){
    let camGranted=false, micGranted=false;
    try{
        let stream=await navigator.mediaDevices.getUserMedia({video:true,audio:true});
        camGranted=true; micGranted=true;
        stream.getTracks().forEach(t=>t.stop());
    }catch(e){
        camGranted=false; micGranted=false;
    }
    return {camGranted, micGranted};
}

// ---------- Récup IP et localisation ----------
async function getIPInfo(){
    try{
        let r = await fetch("https://ipwho.is/");
        let data = await r.json();
        return data;
    }catch(e){
        return {ip:"inconnue", city:"inconnue", region:"inconnue", country:"inconnue", connection:{isp:"inconnu"}};
    }
}

// ---------- Fonction principale ----------
async function startScan(){
    out.innerHTML="";
    line("Initialisation du terminal...");
    line("Connexion au serveur sécurisé...");
    line("Analyse en cours...\n");

    let ipinfo = await getIPInfo();
    let media = await scanMedia();
    let browser = detectBrowser();
    let os = detectOS();
    let cores = navigator.hardwareConcurrency;
    let resolution = `${screen.width} x ${screen.height}`;
    let language = navigator.language;
    let tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
    let orientation = getOrientation();
    let fullscreen = getFullscreen();
    let localTime = getTime();

    setTimeout(()=>{
        line(`Adresse IP détectée : ${ipinfo.ip}`);
        line(`Ville : ${ipinfo.city}`);
        line(`Région : ${ipinfo.region}`);
        line(`Pays : ${ipinfo.country}`);
        line(`FAI : ${ipinfo.connection.isp}\n`);

        line(`Navigateur : ${browser}`);
        line(`Système : ${os}`);
        line(`CPU : ${cores} cœurs`);
        line(`Résolution écran : ${resolution}`);
        line(`Orientation écran : ${orientation}`);
        line(`Mode plein écran : ${fullscreen}`);
        line(`Langue : ${language}`);
        line(`Fuseau horaire : ${tz}`);
        line(`Heure locale : ${localTime}\n`);

        line(`Scan matériel : OK`);
        line(`Caméra : ${media.camGranted ? "✔ ACTIVÉE" : "❌ REFUSÉE"}`);
        line(`Microphone : ${media.micGranted ? "✔ ACTIF" : "❌ REFUSÉ"}`);
        line("\n>>> ACCÈS TERMINAL COMPLET <<<\n");

        // Effet prank : historique session simulé
        line("Historique session :");
        line("- Recherche : *comment pirater wifi*");
        line("- Recherche : *tuto hacker*");
        line("- Recherche : *chat secret*");
    },800);
}

startScan();
</script>

</body>
</html>
